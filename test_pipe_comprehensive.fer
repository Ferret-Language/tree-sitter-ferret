import "std/io";

fn add(x: i32, y: i32) -> i32 {
    return x + y;
}

fn multiply(x: i32, y: i32) -> i32 {
    return x * y;
}

fn main() {
    // Basic pipe - appends to the end
    let result1: i32 = 5 |> add(10);
    io::Println("5 |> add(10) = ", result1); // 15
    
    // Placeholder usage - inserts at specific position
    let result2: i32 = 5 |> add(_, 10);
    io::Println("5 |> add(_, 10) = ", result2); // 15
    
    // Chained pipes
    let result3: i32 = 5 |> add(10) |> multiply(2);
    io::Println("5 |> add(10) |> multiply(2) = ", result3); // 30
    
    // Chained pipes with placeholder
    let result4: i32 = 5 |> add(10) |> multiply(_, 3);
    io::Println("5 |> add(10) |> multiply(_, 3) = ", result4); // 45
    
    // Complex chaining with placeholders
    let result5: i32 = 5 |> add(10) |> add(_, 5) |> multiply(2);
    io::Println("5 |> add(10) |> add(_, 5) |> multiply(2) = ", result5); // 40
}
